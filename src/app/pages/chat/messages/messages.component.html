<div class="page-header">
  <p style="font-size: 30px;">Bate-papo</p>
</div>
<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css'>
<div class="messaging">
  <div class="inbox_msg">
    <div class="inbox_people">
      <div class="headind_srch">
        <div class="recent_heading">
          <h4>Recentes</h4>
        </div>
        <div class="srch_bar">
          <div class="stylish-input-group">
            <input type="text" class="search-bar" placeholder="Pesquisar" [(ngModel)]="filterUser">
          </div>
        </div>
      </div>
      <div class="inbox_chat">
        <div class="chat_list" [ngClass]="{'active_chat': user._id === activeId}" *ngFor="let user of users | filterList: filterUser : 'fullName'">
          <div class="chat_people" (click)="showMessages(user._id)">
            <div class="chat_img"> <img src="https://banner2.kisspng.com/20180522/rve/kisspng-computer-icons-avatar-sport-5b03b4dbd67f95.9985958015269695638786.jpg"
                alt="sunil"> </div>
            <div class="chat_ib">
              <h5>{{ user.fullName }}</h5>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="mesgs">
      <div class="msg_history">
        <ng-container *ngFor="let currentMessage of messages; let i = index;">
          <div [ngClass]="{'incoming_msg': currentMessage.incoming_msg, 'outgoing_msg': currentMessage.outgoing_msg}">
            <div [ngClass]="{'received_withd_msg': currentMessage.incoming_msg, 'sent_msg': currentMessage.outgoing_msg}"
              class="">
              <p [id]="i + '-message'">{{ currentMessage.message }}</p>
              <span class="time_date"> {{ currentMessage.createdAt | date: 'dd/MM/yyyy HH:mm' }}</span>
            </div>
          </div>
        </ng-container>
      </div>
      <div class="type_msg">
        <div class="input_msg_write">
          <input type="text" class="write_msg" placeholder="Escreva uma mensagem..." [(ngModel)]="message" />
          <button class="msg_send_btn" type="button" (click)="sendMessage()"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></button>
        </div>
      </div>
    </div>
  </div>
</div>